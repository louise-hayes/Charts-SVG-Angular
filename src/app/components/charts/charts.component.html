<div class="chart">
  <div class="chart-header">
    <h2 class="chart-title">{{dataSet.title}}</h2>
  </div>

  <svg class="graph" [ngStyle]="chartStyle">

    <!-- For Each Data Series -->
    <!-- check type line / bar -->
    <g *ngFor="let p of dataSet.xypoints; let i = index">
   
      <g id="line" *ngIf="p.type === 'line'">
        <!--  line  -->
        <g app-line-chart [seriesIndex]="i" [dataSet]="dataSet" (pClicked)="pointClicked($event)"></g>
      </g>
      <g id="bar" *ngIf="p.type === 'bar'">
        <!--  bar -->
        <g app-bar-chart [dataSet]="dataSet" [seriesIndex]="i" [numBarCharts]="numBarCharts()"></g>
        <use id="use" href="#line" />
      </g>
      
      <use id="use" href="#line" />
    </g>
    <g *ngFor="let p of dataSet.xypoints; let i = index">
      <g id="line" *ngIf="p.type === 'line'">
        <!--  line  -->
        <g app-line-chart-circle [seriesIndex]="i" [dataSet]="dataSet" (pClicked)="pointClicked($event)"></g>
      </g>
      <!-- <use id="use" href="#line" /> -->
    </g>
    <!-- ***Static part of graph*** -->
    <g app-axes [dataSet]="dataSet" [labelStyle]="labelStyle"></g>
  </svg>
  <!-- Legend -->
  <g app-legend [dataSet]="dataSet"> </g>
 